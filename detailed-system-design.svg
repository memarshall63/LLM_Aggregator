<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 600">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" />
    </marker>
  </defs>
  
  <!-- Client -->
  <rect x="50" y="275" width="100" height="50" fill="#f0f0f0" stroke="#000" />
  <text x="100" y="305" text-anchor="middle">Client</text>
  
  <!-- API Gateway -->
  <rect x="250" y="250" width="120" height="100" fill="#e6f3ff" stroke="#000" />
  <text x="310" y="280" text-anchor="middle">API Gateway</text>
  <text x="310" y="300" text-anchor="middle">(JWT Auth)</text>
  <text x="310" y="320" text-anchor="middle">RESTful API</text>
  
  <!-- Serverless Function -->
  <rect x="450" y="200" width="300" height="200" fill="#d9ead3" stroke="#000" />
  <text x="600" y="225" text-anchor="middle" font-weight="bold">Serverless Function</text>
  
  <!-- Components inside Serverless Function -->
  <rect x="470" y="240" width="120" height="60" fill="#fff" stroke="#000" />
  <text x="530" y="270" text-anchor="middle">Request</text>
  <text x="530" y="290" text-anchor="middle">Handler</text>
  
  <rect x="610" y="240" width="120" height="60" fill="#fff" stroke="#000" />
  <text x="670" y="270" text-anchor="middle">Async LLM</text>
  <text x="670" y="290" text-anchor="middle">Processor</text>
  
  <rect x="470" y="320" width="120" height="60" fill="#fff" stroke="#000" />
  <text x="530" y="350" text-anchor="middle">Response</text>
  <text x="530" y="370" text-anchor="middle">Aggregator</text>
  
  <rect x="610" y="320" width="120" height="60" fill="#fff" stroke="#000" />
  <text x="670" y="350" text-anchor="middle">Blob Storage</text>
  <text x="670" y="370" text-anchor="middle">Interface</text>
  
  <!-- LLM APIs -->
  <rect x="850" y="100" width="100" height="50" fill="#fff2cc" stroke="#000" />
  <text x="900" y="130" text-anchor="middle">LLM API 1</text>
  
  <rect x="850" y="175" width="100" height="50" fill="#fff2cc" stroke="#000" />
  <text x="900" y="205" text-anchor="middle">LLM API 2</text>
  
  <rect x="850" y="250" width="100" height="50" fill="#fff2cc" stroke="#000" />
  <text x="900" y="280" text-anchor="middle">LLM API 3</text>
  
  <rect x="850" y="325" width="100" height="50" fill="#fff2cc" stroke="#000" />
  <text x="900" y="355" text-anchor="middle">LLM API 4</text>
  
  <!-- Blob Storage -->
  <rect x="450" y="450" width="300" height="50" fill="#fce5cd" stroke="#000" />
  <text x="600" y="480" text-anchor="middle">Blob Storage</text>
  
  <!-- Logging -->
  <rect x="250" y="450" width="120" height="50" fill="#d9d2e9" stroke="#000" />
  <text x="310" y="480" text-anchor="middle">Logging (loguru)</text>
  
  <!-- Connections -->
  <line x1="150" y1="300" x2="250" y2="300" stroke="#000" marker-end="url(#arrowhead)" />
  <line x1="370" y1="300" x2="450" y2="300" stroke="#000" marker-end="url(#arrowhead)" />
  <line x1="730" y1="270" x2="850" y2="125" stroke="#000" marker-end="url(#arrowhead)" />
  <line x1="730" y1="270" x2="850" y2="200" stroke="#000" marker-end="url(#arrowhead)" />
  <line x1="730" y1="270" x2="850" y2="275" stroke="#000" marker-end="url(#arrowhead)" />
  <line x1="730" y1="270" x2="850" y2="350" stroke="#000" marker-end="url(#arrowhead)" />
  <line x1="600" y1="400" x2="600" y2="450" stroke="#000" marker-end="url(#arrowhead)" />
  <line x1="450" y1="475" x2="370" y2="475" stroke="#000" marker-end="url(#arrowhead)" />
  
  <!-- @loggable decorator -->
  <text x="400" y="270" text-anchor="middle" font-style="italic">@loggable</text>
  <text x="780" y="240" text-anchor="middle" font-style="italic">@loggable</text>
</svg>
